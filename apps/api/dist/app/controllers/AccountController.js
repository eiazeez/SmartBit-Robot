'use strict';const a3_0x31c160=a3_0x37e0;(function(_0x2cfb03,_0x25920b){const _0x35f63e=a3_0x37e0,_0x91a69e=_0x2cfb03();while(!![]){try{const _0x387594=parseInt(_0x35f63e(0xf2))/0x1+-parseInt(_0x35f63e(0xf5))/0x2+-parseInt(_0x35f63e(0xf8))/0x3+-parseInt(_0x35f63e(0x10d))/0x4+-parseInt(_0x35f63e(0xf1))/0x5+-parseInt(_0x35f63e(0xeb))/0x6+parseInt(_0x35f63e(0x106))/0x7;if(_0x387594===_0x25920b)break;else _0x91a69e['push'](_0x91a69e['shift']());}catch(_0x121edd){_0x91a69e['push'](_0x91a69e['shift']());}}}(a3_0x220d,0x2cf5b));function a3_0x37e0(_0x322a04,_0x3ea6d4){const _0x220d9a=a3_0x220d();return a3_0x37e0=function(_0x37e07b,_0x4cbc44){_0x37e07b=_0x37e07b-0xeb;let _0x26603b=_0x220d9a[_0x37e07b];return _0x26603b;},a3_0x37e0(_0x322a04,_0x3ea6d4);}function a3_0x220d(){const _0x3b200c=['iLike','query','show','email','Account\x20Not\x20Found','User\x20has\x20membership','default','sequelize','rows','findOne','5737858QTiSUh','defineProperty','CPF\x20already\x20exists','status','destroy','params','ASC','933232Sfryau','cpf','update','471642CPvHmE','name','count','../models/Membership','findByPk','send','1070335IVENeP','299718unhBnG','Email\x20already\x20exists','body','491672UtdcZy','json','__esModule','490317JItrfV','index','store','findAndCountAll'];a3_0x220d=function(){return _0x3b200c;};return a3_0x220d();}Object[a3_0x31c160(0x107)](exports,'__esModule',{'value':!![]});function _interopRequireDefault(_0x263c6b){const _0x57b242=a3_0x31c160;return _0x263c6b&&_0x263c6b[_0x57b242(0xf7)]?_0x263c6b:{'default':_0x263c6b};}var _sequelize=require(a3_0x31c160(0x103)),_Account=require('../models/Account'),_Account2=_interopRequireDefault(_Account),_Membership=require(a3_0x31c160(0xee)),_Membership2=_interopRequireDefault(_Membership);class AccountController{async[a3_0x31c160(0xf9)](_0x2f625e,_0xf6078){const _0x133525=a3_0x31c160,_0x41feb2=_0x2f625e[_0x133525(0xfd)][_0x133525(0xec)]||'',_0x43aa6e=await _Account2[_0x133525(0x102)][_0x133525(0xfb)]({'order':[_0x133525(0xec)],'where':{'name':{[_sequelize['Op'][_0x133525(0xfc)]]:'%'+_0x41feb2+'%'}},'order':[['id',_0x133525(0x10c)]],'limit':0xa});return _0xf6078[_0x133525(0xf6)]({'data':_0x43aa6e[_0x133525(0x104)],'total':_0x43aa6e[_0x133525(0xed)]});}async[a3_0x31c160(0xfe)](_0x3dc4dd,_0x25ead6){const _0x4ae38a=a3_0x31c160,{id:_0x5bbb0f}=_0x3dc4dd[_0x4ae38a(0x10b)],_0x32a2b0=await _Account2[_0x4ae38a(0x102)][_0x4ae38a(0xef)](_0x5bbb0f);if(!_0x32a2b0)return _0x25ead6[_0x4ae38a(0x109)](0x194)[_0x4ae38a(0xf6)]({'error':_0x4ae38a(0x100)});return _0x25ead6['json'](_0x32a2b0);}async[a3_0x31c160(0xfa)](_0x4229b6,_0x92217e){const _0x5984db=a3_0x31c160,_0x34be90=await _Account2['default'][_0x5984db(0x105)]({'where':{'email':_0x4229b6[_0x5984db(0xf4)][_0x5984db(0xff)]}});if(_0x34be90)return _0x92217e['status'](0x199)['json']({'error':_0x5984db(0xf3)});const _0x680361=await _Account2['default'][_0x5984db(0x105)]({'where':{'cpf':_0x4229b6['body'][_0x5984db(0x10e)]}});if(_0x680361)return _0x92217e[_0x5984db(0x109)](0x199)[_0x5984db(0xf6)]({'error':_0x5984db(0x108)});const _0x6860c9=await _Account2[_0x5984db(0x102)]['create'](_0x4229b6[_0x5984db(0xf4)]);return _0x92217e[_0x5984db(0x109)](0xc9)['json'](_0x6860c9);}async[a3_0x31c160(0x10f)](_0x4f0a39,_0x5048cc){const _0x54a4ff=a3_0x31c160,{id:_0x4ca858}=_0x4f0a39['params'],_0x48c5a7=await _Account2['default']['findByPk'](_0x4ca858);if(!_0x48c5a7)return _0x5048cc['status'](0x190)['json']({'error':'Account\x20not\x20found'});return await _0x48c5a7[_0x54a4ff(0x10f)](_0x4f0a39[_0x54a4ff(0xf4)]),_0x5048cc[_0x54a4ff(0xf6)](_0x48c5a7);}async[a3_0x31c160(0x10a)](_0x23fbe5,_0x3f52d6){const _0x1a4ff2=a3_0x31c160,{id:_0x54fe29}=_0x23fbe5[_0x1a4ff2(0x10b)],_0x1c2f0a=await _Account2[_0x1a4ff2(0x102)][_0x1a4ff2(0xef)](_0x54fe29);if(!_0x1c2f0a)return _0x3f52d6['status'](0x194)[_0x1a4ff2(0xf6)]({'error':'Account\x20Not\x20Found'});const _0x2ded67=await _Membership2['default'][_0x1a4ff2(0x105)]({'where':{'id':_0x54fe29}});if(_0x2ded67)return _0x3f52d6[_0x1a4ff2(0x109)](0x199)[_0x1a4ff2(0xf6)]({'error':_0x1a4ff2(0x101)});return await _0x1c2f0a[_0x1a4ff2(0x10a)](),_0x3f52d6[_0x1a4ff2(0x109)](0xcc)[_0x1a4ff2(0xf0)]();}}exports[a3_0x31c160(0x102)]=new AccountController();