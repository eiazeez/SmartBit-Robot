'use strict';const a3_0x602a79=a3_0xf5a9;(function(_0x56584c,_0x57d1ad){const _0x4e36cc=a3_0xf5a9,_0x3323da=_0x56584c();while(!![]){try{const _0x6bdc0=parseInt(_0x4e36cc(0xb9))/0x1*(-parseInt(_0x4e36cc(0x93))/0x2)+-parseInt(_0x4e36cc(0xaf))/0x3*(-parseInt(_0x4e36cc(0xb1))/0x4)+-parseInt(_0x4e36cc(0xb3))/0x5+parseInt(_0x4e36cc(0xa4))/0x6*(parseInt(_0x4e36cc(0x9e))/0x7)+-parseInt(_0x4e36cc(0xab))/0x8*(-parseInt(_0x4e36cc(0xb5))/0x9)+parseInt(_0x4e36cc(0xb4))/0xa*(-parseInt(_0x4e36cc(0x9d))/0xb)+-parseInt(_0x4e36cc(0xba))/0xc*(-parseInt(_0x4e36cc(0x9b))/0xd);if(_0x6bdc0===_0x57d1ad)break;else _0x3323da['push'](_0x3323da['shift']());}catch(_0x4bf337){_0x3323da['push'](_0x3323da['shift']());}}}(a3_0x4c0a,0xb2d6a));function a3_0x4c0a(){const _0x2914b5=['28qifnMF','default','name','show','status','params','259698KQZils','body','Account\x20not\x20found','defineProperty','store','rows','destroy','8znTxeG','send','index','update','7569bOmDCZ','__esModule','304DjymJR','findAndCountAll','2327375wLVwNs','6205990JbpzYD','3437046poEUiK','json','ASC','../models/Membership','1aYHITB','12vZjqtT','Email\x20already\x20exists','2334166uIcTbp','create','cpf','User\x20has\x20membership','findByPk','findOne','Account\x20Not\x20Found','count','29105765RoVcme','iLike','11VVPysT'];a3_0x4c0a=function(){return _0x2914b5;};return a3_0x4c0a();}Object[a3_0x602a79(0xa7)](exports,a3_0x602a79(0xb0),{'value':!![]});function _interopRequireDefault(_0xb21cdd){const _0x184eec=a3_0x602a79;return _0xb21cdd&&_0xb21cdd[_0x184eec(0xb0)]?_0xb21cdd:{'default':_0xb21cdd};}function a3_0xf5a9(_0x5221c3,_0x5f0a22){const _0x4c0a5b=a3_0x4c0a();return a3_0xf5a9=function(_0xf5a98a,_0x185572){_0xf5a98a=_0xf5a98a-0x92;let _0x4a3a95=_0x4c0a5b[_0xf5a98a];return _0x4a3a95;},a3_0xf5a9(_0x5221c3,_0x5f0a22);}var _sequelize=require('sequelize'),_Account=require('../models/Account'),_Account2=_interopRequireDefault(_Account),_Membership=require(a3_0x602a79(0xb8)),_Membership2=_interopRequireDefault(_Membership);class AccountController{async[a3_0x602a79(0xad)](_0x54132d,_0xb131fc){const _0x878ad7=a3_0x602a79,_0x1a5508=_0x54132d['query']['name']||'',_0x1590f7=await _Account2[_0x878ad7(0x9f)][_0x878ad7(0xb2)]({'order':[_0x878ad7(0xa0)],'where':{'name':{[_sequelize['Op'][_0x878ad7(0x9c)]]:'%'+_0x1a5508+'%'}},'order':[['id',_0x878ad7(0xb7)]],'limit':0xa});return _0xb131fc[_0x878ad7(0xb6)]({'data':_0x1590f7[_0x878ad7(0xa9)],'total':_0x1590f7[_0x878ad7(0x9a)]});}async[a3_0x602a79(0xa1)](_0x18d3f9,_0x5d28db){const _0x49cb3e=a3_0x602a79,{id:_0x348ce5}=_0x18d3f9[_0x49cb3e(0xa3)],_0x1c8f02=await _Account2[_0x49cb3e(0x9f)][_0x49cb3e(0x97)](_0x348ce5);if(!_0x1c8f02)return _0x5d28db['status'](0x194)['json']({'error':_0x49cb3e(0x99)});return _0x5d28db[_0x49cb3e(0xb6)](_0x1c8f02);}async[a3_0x602a79(0xa8)](_0x52d0d4,_0x201209){const _0x386088=a3_0x602a79,_0x4bd029=await _Account2[_0x386088(0x9f)][_0x386088(0x98)]({'where':{'email':_0x52d0d4[_0x386088(0xa5)]['email']}});if(_0x4bd029)return _0x201209['status'](0x199)[_0x386088(0xb6)]({'error':_0x386088(0x92)});const _0x46cdba=await _Account2[_0x386088(0x9f)]['findOne']({'where':{'cpf':_0x52d0d4[_0x386088(0xa5)][_0x386088(0x95)]}});if(_0x46cdba)return _0x201209['status'](0x199)[_0x386088(0xb6)]({'error':'CPF\x20already\x20exists'});const _0x1c0a4e=await _Account2[_0x386088(0x9f)][_0x386088(0x94)](_0x52d0d4[_0x386088(0xa5)]);return _0x201209[_0x386088(0xa2)](0xc9)['json'](_0x1c0a4e);}async[a3_0x602a79(0xae)](_0x3b87c3,_0x538f60){const _0x239c3d=a3_0x602a79,{id:_0xfaf09}=_0x3b87c3[_0x239c3d(0xa3)],_0x1fc354=await _Account2['default'][_0x239c3d(0x97)](_0xfaf09);if(!_0x1fc354)return _0x538f60[_0x239c3d(0xa2)](0x190)[_0x239c3d(0xb6)]({'error':_0x239c3d(0xa6)});return await _0x1fc354[_0x239c3d(0xae)](_0x3b87c3[_0x239c3d(0xa5)]),_0x538f60[_0x239c3d(0xb6)](_0x1fc354);}async[a3_0x602a79(0xaa)](_0x10d8f2,_0x39a672){const _0x3f23e1=a3_0x602a79,{id:_0x42302d}=_0x10d8f2[_0x3f23e1(0xa3)],_0x152179=await _Account2[_0x3f23e1(0x9f)][_0x3f23e1(0x97)](_0x42302d);if(!_0x152179)return _0x39a672[_0x3f23e1(0xa2)](0x194)[_0x3f23e1(0xb6)]({'error':_0x3f23e1(0x99)});const _0xe88e45=await _Membership2[_0x3f23e1(0x9f)][_0x3f23e1(0x98)]({'where':{'id':_0x42302d}});if(_0xe88e45)return _0x39a672[_0x3f23e1(0xa2)](0x199)['json']({'error':_0x3f23e1(0x96)});return await _0x152179[_0x3f23e1(0xaa)](),_0x39a672[_0x3f23e1(0xa2)](0xcc)[_0x3f23e1(0xac)]();}}exports[a3_0x602a79(0x9f)]=new AccountController();