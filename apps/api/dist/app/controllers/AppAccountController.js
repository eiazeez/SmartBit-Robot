'use strict';const a4_0x42ce82=a4_0x2247;(function(_0x5175c8,_0x873353){const _0x37c59d=a4_0x2247,_0x2aa5aa=_0x5175c8();while(!![]){try{const _0xc5e146=parseInt(_0x37c59d(0x90))/0x1+-parseInt(_0x37c59d(0x77))/0x2+-parseInt(_0x37c59d(0x95))/0x3*(parseInt(_0x37c59d(0x99))/0x4)+parseInt(_0x37c59d(0x98))/0x5+parseInt(_0x37c59d(0x7c))/0x6*(-parseInt(_0x37c59d(0x84))/0x7)+-parseInt(_0x37c59d(0x75))/0x8*(-parseInt(_0x37c59d(0x89))/0x9)+parseInt(_0x37c59d(0x7e))/0xa;if(_0xc5e146===_0x873353)break;else _0x2aa5aa['push'](_0x2aa5aa['shift']());}catch(_0x3031ee){_0x2aa5aa['push'](_0x2aa5aa['shift']());}}}(a4_0x3eb9,0xa88de));function a4_0x3eb9(){const _0x1b2cec=['findOne','1279122qGUUZq','Membership\x20Not\x20Found','status','params','duration','33735nxfsfo','title','total','4586405QOFiUC','440hAhsFD','1374104hodOuI','show','440792EzsJQX','json','Membership\x20not\x20found','Account\x20not\x20found','email','475842VhwZSI','weight','968060vMELny','update','plan','../models/Membership','destroy','../models/Account','28EpoQLa','auth','account','price','default','9LAnQHM','imc','__esModule','end','name','body'];a4_0x3eb9=function(){return _0x1b2cec;};return a4_0x3eb9();}Object['defineProperty'](exports,'__esModule',{'value':!![]});function _interopRequireDefault(_0x2669f5){const _0x56ec3c=a4_0x2247;return _0x2669f5&&_0x2669f5[_0x56ec3c(0x8b)]?_0x2669f5:{'default':_0x2669f5};}var _Account=require(a4_0x42ce82(0x83)),_Account2=_interopRequireDefault(_Account),_Membership=require(a4_0x42ce82(0x81)),_Membership2=_interopRequireDefault(_Membership),_Plan=require('../models/Plan'),_Plan2=_interopRequireDefault(_Plan),_moment=require('moment'),_moment2=_interopRequireDefault(_moment);class SessionAccountController{async[a4_0x42ce82(0x85)](_0x565279,_0x2fffd9){const _0x3458b2=a4_0x42ce82,{cpf:_0x550702}=_0x565279[_0x3458b2(0x8e)],_0x41bffc=await _Account2[_0x3458b2(0x88)][_0x3458b2(0x8f)]({'where':{'cpf':_0x550702}});if(!_0x41bffc)return _0x2fffd9[_0x3458b2(0x92)](0x191)[_0x3458b2(0x8c)]();const _0x5ead96=await _Membership2['default'][_0x3458b2(0x8f)]({'where':{'account_id':_0x41bffc['id']},'include':[{'model':_Account2[_0x3458b2(0x88)],'as':_0x3458b2(0x86),'attributes':['id','name']},{'model':_Plan2['default'],'as':_0x3458b2(0x80),'attributes':['id',_0x3458b2(0x96),'duration',_0x3458b2(0x87),'total']}]});if(!_0x5ead96)return _0x2fffd9[_0x3458b2(0x92)](0x191)['json']({'error':_0x3458b2(0x91)});return _0x2fffd9['json'](_0x5ead96);}async[a4_0x42ce82(0x76)](_0x3790c4,_0x2fad9d){const _0x6f762a=a4_0x42ce82,{cpf:_0x258f72}=_0x3790c4[_0x6f762a(0x93)],_0x35f59d=await _Account2['default']['findOne']({'where':{'cpf':_0x258f72}});if(!_0x35f59d)return _0x2fad9d[_0x6f762a(0x92)](0x190)[_0x6f762a(0x78)]({'error':_0x6f762a(0x7a)});const _0x2856b9=await _Membership2[_0x6f762a(0x88)][_0x6f762a(0x8f)]({'where':{'account_id':_0x35f59d['id']},'include':[{'model':_Account2[_0x6f762a(0x88)],'as':_0x6f762a(0x86),'attributes':['id',_0x6f762a(0x8d),_0x6f762a(0x7b),'cpf',_0x6f762a(0x7d),'height',_0x6f762a(0x8a)]},{'model':_Plan2[_0x6f762a(0x88)],'as':'plan','attributes':['id',_0x6f762a(0x96),_0x6f762a(0x94),'price',_0x6f762a(0x97)]}]});if(!_0x2856b9)return _0x2fad9d[_0x6f762a(0x92)](0x194)['json']({'error':'Membership\x20Not\x20Found'});return _0x2fad9d[_0x6f762a(0x78)](_0x2856b9);}async[a4_0x42ce82(0x7f)](_0x47debe,_0x2be3b5){const _0x230314=a4_0x42ce82,{cpf:_0x3914cd}=_0x47debe[_0x230314(0x93)],{weight:_0x8a7030,height:_0x541a5d}=_0x47debe[_0x230314(0x8e)],_0x27d127=await _Account2[_0x230314(0x88)][_0x230314(0x8f)]({'where':{'cpf':_0x3914cd}});if(!_0x27d127)return _0x2be3b5[_0x230314(0x92)](0x190)[_0x230314(0x78)]({'error':_0x230314(0x7a)});return await _0x27d127['update']({'weight':_0x8a7030,'height':_0x541a5d}),_0x2be3b5[_0x230314(0x78)](_0x27d127);}async['delete'](_0x412403,_0x3c8532){const _0x49c9dc=a4_0x42ce82,{cpf:_0x2396a2}=_0x412403[_0x49c9dc(0x93)],_0x51b318=await _Account2['default'][_0x49c9dc(0x8f)]({'where':{'cpf':_0x2396a2}});if(!_0x51b318)return _0x3c8532['status'](0x194)[_0x49c9dc(0x78)]({'error':_0x49c9dc(0x79)});const _0x561b06=await _Membership2['default'][_0x49c9dc(0x8f)]({'where':{'account_id':_0x51b318['id']}});if(!_0x561b06)return _0x3c8532['status'](0x194)[_0x49c9dc(0x78)]({'error':_0x49c9dc(0x79)});return await _0x561b06[_0x49c9dc(0x82)](),_0x3c8532['status'](0xcc)[_0x49c9dc(0x8c)]();}}function a4_0x2247(_0x12f5a8,_0x2def13){const _0x3eb919=a4_0x3eb9();return a4_0x2247=function(_0x224741,_0x397d1d){_0x224741=_0x224741-0x75;let _0x4b4208=_0x3eb919[_0x224741];return _0x4b4208;},a4_0x2247(_0x12f5a8,_0x2def13);}exports[a4_0x42ce82(0x88)]=new SessionAccountController();