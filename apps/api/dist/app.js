'use strict';var a20_0x395872=a20_0x56c9;(function(_0x2436a6,_0xf2e90c){var _0x4fc5b0=a20_0x56c9,_0x4140b7=_0x2436a6();while(!![]){try{var _0x40225c=-parseInt(_0x4fc5b0(0x15e))/0x1+-parseInt(_0x4fc5b0(0x161))/0x2+parseInt(_0x4fc5b0(0x159))/0x3+parseInt(_0x4fc5b0(0x149))/0x4*(parseInt(_0x4fc5b0(0x155))/0x5)+-parseInt(_0x4fc5b0(0x14c))/0x6+parseInt(_0x4fc5b0(0x150))/0x7*(-parseInt(_0x4fc5b0(0x15b))/0x8)+parseInt(_0x4fc5b0(0x154))/0x9*(parseInt(_0x4fc5b0(0x16a))/0xa);if(_0x40225c===_0xf2e90c)break;else _0x4140b7['push'](_0x4140b7['shift']());}catch(_0x1082b1){_0x4140b7['push'](_0x4140b7['shift']());}}}(a20_0x5b6a,0x23f03));function a20_0x56c9(_0x2ec26e,_0x5f482b){var _0x5b6a1b=a20_0x5b6a();return a20_0x56c9=function(_0x56c92f,_0x12cf1f){_0x56c92f=_0x56c92f-0x13e;var _0x2b7997=_0x5b6a1b[_0x56c92f];return _0x2b7997;},a20_0x56c9(_0x2ec26e,_0x5f482b);}Object[a20_0x395872(0x162)](exports,a20_0x395872(0x144),{'value':!![]});function _interopRequireWildcard(_0x2bfe67){var _0x25f5e9=a20_0x395872;if(_0x2bfe67&&_0x2bfe67[_0x25f5e9(0x144)])return _0x2bfe67;else{var _0x8bc7f4={};if(_0x2bfe67!=null)for(var _0x10e71f in _0x2bfe67){Object[_0x25f5e9(0x13f)][_0x25f5e9(0x153)][_0x25f5e9(0x160)](_0x2bfe67,_0x10e71f)&&(_0x8bc7f4[_0x10e71f]=_0x2bfe67[_0x10e71f]);}return _0x8bc7f4[_0x25f5e9(0x156)]=_0x2bfe67,_0x8bc7f4;}}function _interopRequireDefault(_0x14e1af){var _0x3394ad=a20_0x395872;return _0x14e1af&&_0x14e1af[_0x3394ad(0x144)]?_0x14e1af:{'default':_0x14e1af};}require('./bootstrap');var _express=require('express'),_express2=_interopRequireDefault(_express),_cors=require('cors'),_cors2=_interopRequireDefault(_cors),_helmet=require('helmet'),_helmet2=_interopRequireDefault(_helmet),_youch=require(a20_0x395872(0x158)),_youch2=_interopRequireDefault(_youch),_socketio=require('socket.io'),_socketio2=_interopRequireDefault(_socketio),_http=require(a20_0x395872(0x163)),_http2=_interopRequireDefault(_http),_path=require('path'),_path2=_interopRequireDefault(_path),_node=require(a20_0x395872(0x142)),Sentry=_interopRequireWildcard(_node);require(a20_0x395872(0x169));var _routes=require('./routes'),_routes2=_interopRequireDefault(_routes),_sentry=require(a20_0x395872(0x14b)),_sentry2=_interopRequireDefault(_sentry);require(a20_0x395872(0x151));class App{constructor(){var _0x38356c=a20_0x395872;this[_0x38356c(0x14e)]=_express2['default']['call'](void 0x0),this[_0x38356c(0x164)]=_http2['default'][_0x38356c(0x140)](this['app']),Sentry[_0x38356c(0x143)](_sentry2[_0x38356c(0x156)]),this[_0x38356c(0x165)](),this[_0x38356c(0x168)](),this[_0x38356c(0x152)](),this[_0x38356c(0x13e)](),this['conectedAccounts']={};}[a20_0x395872(0x165)](){var _0x57d7ba=a20_0x395872;this['io']=_socketio2[_0x57d7ba(0x156)][_0x57d7ba(0x160)](void 0x0,this[_0x57d7ba(0x164)]),this['io']['on'](_0x57d7ba(0x167),_0x4db71d=>{var _0x15aa16=_0x57d7ba;const {account_id:_0x2f45e6}=_0x4db71d[_0x15aa16(0x14f)][_0x15aa16(0x15d)];this[_0x15aa16(0x157)][_0x2f45e6]=_0x4db71d['id'],_0x4db71d['on'](_0x15aa16(0x14a),()=>{delete this['conectedAccounts'][_0x2f45e6];});});}[a20_0x395872(0x168)](){var _0x383528=a20_0x395872;this['app'][_0x383528(0x15c)](Sentry[_0x383528(0x14d)][_0x383528(0x146)]()),this['app'][_0x383528(0x15c)](_express2[_0x383528(0x156)]['json']()),this[_0x383528(0x14e)][_0x383528(0x15c)](_helmet2[_0x383528(0x156)][_0x383528(0x160)](void 0x0)),this[_0x383528(0x14e)]['use'](_cors2[_0x383528(0x156)][_0x383528(0x160)](void 0x0,{'origin':process[_0x383528(0x15a)]['FRONT_URL']})),this['app']['use']('/files',_express2['default'][_0x383528(0x166)](_path2[_0x383528(0x156)][_0x383528(0x141)](__dirname,'..',_0x383528(0x145),_0x383528(0x147)))),this[_0x383528(0x14e)][_0x383528(0x15c)]((_0x16dfb4,_0x1d7fe1,_0x518def)=>{_0x16dfb4['io']=this['io'],_0x16dfb4['conectedAccounts']=this['conectedAccounts'],_0x518def();});}[a20_0x395872(0x152)](){var _0x4dc483=a20_0x395872;this['app'][_0x4dc483(0x15c)](_routes2['default']),this[_0x4dc483(0x14e)]['use'](Sentry[_0x4dc483(0x14d)][_0x4dc483(0x16b)]());}[a20_0x395872(0x13e)](){var _0x2a1306=a20_0x395872;this[_0x2a1306(0x14e)]['use'](async(_0x44d3eb,_0x86b579,_0x3e0af5,_0x3e02df)=>{var _0x55eacb=_0x2a1306;const _0x1d9b05=await new(0x0,_youch2['default'])(_0x44d3eb,_0x86b579)['toJSON']();return _0x3e0af5[_0x55eacb(0x148)](0x1f4)[_0x55eacb(0x15f)](_0x1d9b05);});}}function a20_0x5b6a(){var _0x863691=['@sentry/node','init','__esModule','tmp','requestHandler','uploads','status','2696LPOGxo','disconect','./config/sentry','936486lFdlJo','Handlers','app','handshake','322CAQrfi','./database','routes','hasOwnProperty','13113gifiYB','865yvUcLi','default','conectedAccounts','youch','183603aIdJyW','env','47960ZEYIfF','use','query','150146KMHGVH','json','call','205592eobDMe','defineProperty','http','server','socket','static','connection','middlewares','express-async-errors','4490MzDSsE','errorHandler','exceptionHandler','prototype','Server','resolve'];a20_0x5b6a=function(){return _0x863691;};return a20_0x5b6a();}exports[a20_0x395872(0x156)]=new App()[a20_0x395872(0x164)];