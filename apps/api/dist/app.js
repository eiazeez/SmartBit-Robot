'use strict';var a20_0x461d36=a20_0x4d1f;(function(_0x9b88ed,_0x368725){var _0x3c6637=a20_0x4d1f,_0x48e127=_0x9b88ed();while(!![]){try{var _0x35e289=-parseInt(_0x3c6637(0x86))/0x1+-parseInt(_0x3c6637(0xa0))/0x2+-parseInt(_0x3c6637(0x9b))/0x3*(-parseInt(_0x3c6637(0xab))/0x4)+parseInt(_0x3c6637(0xb2))/0x5*(-parseInt(_0x3c6637(0x82))/0x6)+-parseInt(_0x3c6637(0x8a))/0x7+-parseInt(_0x3c6637(0x95))/0x8*(-parseInt(_0x3c6637(0x8c))/0x9)+parseInt(_0x3c6637(0xa7))/0xa;if(_0x35e289===_0x368725)break;else _0x48e127['push'](_0x48e127['shift']());}catch(_0x14a581){_0x48e127['push'](_0x48e127['shift']());}}}(a20_0x449f,0x8ad49));function a20_0x4d1f(_0x5535bf,_0x2e9027){var _0x449f16=a20_0x449f();return a20_0x4d1f=function(_0x4d1fb1,_0x518d04){_0x4d1fb1=_0x4d1fb1-0x82;var _0x173bd9=_0x449f16[_0x4d1fb1];return _0x173bd9;},a20_0x4d1f(_0x5535bf,_0x2e9027);}Object['defineProperty'](exports,a20_0x461d36(0x8f),{'value':!![]});function _interopRequireWildcard(_0x787e11){var _0xf85406=a20_0x461d36;if(_0x787e11&&_0x787e11['__esModule'])return _0x787e11;else{var _0x89bf31={};if(_0x787e11!=null)for(var _0x5b8ceb in _0x787e11){Object[_0xf85406(0x83)][_0xf85406(0x8d)][_0xf85406(0x98)](_0x787e11,_0x5b8ceb)&&(_0x89bf31[_0x5b8ceb]=_0x787e11[_0x5b8ceb]);}return _0x89bf31[_0xf85406(0xaa)]=_0x787e11,_0x89bf31;}}function _interopRequireDefault(_0x35bf97){var _0x1ecb1b=a20_0x461d36;return _0x35bf97&&_0x35bf97[_0x1ecb1b(0x8f)]?_0x35bf97:{'default':_0x35bf97};}require('./bootstrap');var _express=require(a20_0x461d36(0x8b)),_express2=_interopRequireDefault(_express),_cors=require('cors'),_cors2=_interopRequireDefault(_cors),_helmet=require(a20_0x461d36(0x8e)),_helmet2=_interopRequireDefault(_helmet),_youch=require(a20_0x461d36(0x90)),_youch2=_interopRequireDefault(_youch),_socketio=require(a20_0x461d36(0x93)),_socketio2=_interopRequireDefault(_socketio),_http=require(a20_0x461d36(0x91)),_http2=_interopRequireDefault(_http),_path=require(a20_0x461d36(0xa1)),_path2=_interopRequireDefault(_path),_node=require(a20_0x461d36(0x88)),Sentry=_interopRequireWildcard(_node);function a20_0x449f(){var _0x30a223=['__esModule','youch','http','requestHandler','socket.io','/files','2664qtEAnB','conectedAccounts','./database','call','FRONT_URL','exceptionHandler','1938wbbTdM','handshake','disconect','Handlers','Server','892018YTybtE','path','middlewares','app','express-async-errors','./config/sentry','server','17806240bUFiOy','init','socket','default','3856IjKKWk','routes','./routes','json','errorHandler','status','use','2073605ytcedj','12JhtgfS','prototype','uploads','query','305434SePFcr','static','@sentry/node','resolve','6716227dKEngw','express','19071pvRJQS','hasOwnProperty','helmet'];a20_0x449f=function(){return _0x30a223;};return a20_0x449f();}require(a20_0x461d36(0xa4));var _routes=require(a20_0x461d36(0xad)),_routes2=_interopRequireDefault(_routes),_sentry=require(a20_0x461d36(0xa5)),_sentry2=_interopRequireDefault(_sentry);require(a20_0x461d36(0x97));class App{constructor(){var _0x310ac3=a20_0x461d36;this[_0x310ac3(0xa3)]=_express2[_0x310ac3(0xaa)][_0x310ac3(0x98)](void 0x0),this[_0x310ac3(0xa6)]=_http2[_0x310ac3(0xaa)][_0x310ac3(0x9f)](this[_0x310ac3(0xa3)]),Sentry[_0x310ac3(0xa8)](_sentry2['default']),this[_0x310ac3(0xa9)](),this[_0x310ac3(0xa2)](),this[_0x310ac3(0xac)](),this['exceptionHandler'](),this[_0x310ac3(0x96)]={};}[a20_0x461d36(0xa9)](){var _0x1088ad=a20_0x461d36;this['io']=_socketio2[_0x1088ad(0xaa)][_0x1088ad(0x98)](void 0x0,this['server']),this['io']['on']('connection',_0x4230a4=>{var _0x261ad1=_0x1088ad;const {account_id:_0x2d71b4}=_0x4230a4[_0x261ad1(0x9c)][_0x261ad1(0x85)];this[_0x261ad1(0x96)][_0x2d71b4]=_0x4230a4['id'],_0x4230a4['on'](_0x261ad1(0x9d),()=>{var _0x20406d=_0x261ad1;delete this[_0x20406d(0x96)][_0x2d71b4];});});}[a20_0x461d36(0xa2)](){var _0x2b7627=a20_0x461d36;this[_0x2b7627(0xa3)][_0x2b7627(0xb1)](Sentry[_0x2b7627(0x9e)][_0x2b7627(0x92)]()),this[_0x2b7627(0xa3)][_0x2b7627(0xb1)](_express2[_0x2b7627(0xaa)][_0x2b7627(0xae)]()),this[_0x2b7627(0xa3)][_0x2b7627(0xb1)](_helmet2[_0x2b7627(0xaa)][_0x2b7627(0x98)](void 0x0)),this[_0x2b7627(0xa3)]['use'](_cors2[_0x2b7627(0xaa)][_0x2b7627(0x98)](void 0x0,{'origin':process['env'][_0x2b7627(0x99)]})),this[_0x2b7627(0xa3)]['use'](_0x2b7627(0x94),_express2[_0x2b7627(0xaa)][_0x2b7627(0x87)](_path2[_0x2b7627(0xaa)][_0x2b7627(0x89)](__dirname,'..','tmp',_0x2b7627(0x84)))),this['app'][_0x2b7627(0xb1)]((_0x5ce58d,_0x481539,_0x2a5db7)=>{var _0x1a2c35=_0x2b7627;_0x5ce58d['io']=this['io'],_0x5ce58d[_0x1a2c35(0x96)]=this['conectedAccounts'],_0x2a5db7();});}['routes'](){var _0x3eada1=a20_0x461d36;this[_0x3eada1(0xa3)][_0x3eada1(0xb1)](_routes2[_0x3eada1(0xaa)]),this[_0x3eada1(0xa3)][_0x3eada1(0xb1)](Sentry[_0x3eada1(0x9e)][_0x3eada1(0xaf)]());}[a20_0x461d36(0x9a)](){this['app']['use'](async(_0x1f98ed,_0x52f889,_0x5ecbfc,_0x2a1d9a)=>{var _0x2b9dc3=a20_0x4d1f;const _0x53baee=await new(0x0,_youch2[(_0x2b9dc3(0xaa))])(_0x1f98ed,_0x52f889)['toJSON']();return _0x5ecbfc[_0x2b9dc3(0xb0)](0x1f4)['json'](_0x53baee);});}}exports[a20_0x461d36(0xaa)]=new App()[a20_0x461d36(0xa6)];